{% extends "idoma_app/base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'idoma_app/forum.css' %}">

<div class="forum-container">
  <h1>Women & Youth Forums</h1>
  <p>Join the discussion, share your thoughts, and connect with others!</p>


  <div class="new-topic-form">
    <h2>Start a New Discussion</h2>
    <form method="post">
      {% csrf_token %}
      <input type="text" name="author" placeholder="Author" required>
      <input type="text" name="title" placeholder="Topic title" required>
      <textarea name="content" placeholder="Write your post here..." rows="5" required></textarea>
      <button type="submit">Post</button>
    </form>
  </div>

  <div class="forum-topics">
    <h2>Recent Discussions</h2>
    {% if topics %}
      <ul>
        {% for topic in topics %}
        <li>
          <h3>{{ topic.title }}</h3>
          <p>{{ topic.content|truncatewords:20 }}</p>
          <small>Posted by {{ topic.author }} on {{ topic.created_at|date:"M d, Y" }}</small>
        </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No discussions yet. Be the first to post!</p>
    {% endif %}
  </div>
</div>
{% endblock %}
